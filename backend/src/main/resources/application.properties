spring.application.name=demo

spring.datasource.url=jdbc:postgresql://localhost:5432/traloitudong_db
spring.datasource.username=traloitudong_user
spring.datasource.password=traloitudong_Admin_2025
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=update

spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.maximum-pool-size=20
spring.datasource.hikari.idle-timeout=30000

# spring.security.user.name=admin
# spring.security.user.password=123

spring.jpa.open-in-view=false

logging.level.org.springframework.security=DEBUG

jwt.secret=Hh52JKs3NlFlk7MpT6VYjIML9Zn7sgfhW67X7j3Xr8Y=
jwt.expiration=86400000

logging.level.org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer=ERROR

# ========================
# Cấu hình Botpress API
# ========================
# URL đến API của Botpress
botpress.api.url=http://localhost:3001

# Botpress API Timeout (in seconds)
botpress.api.timeout.seconds=30

# Number of retry attempts for failed requests
botpress.api.retry.attempts=2

# Initial delay between retries in milliseconds
botpress.api.retry.delay=500

# Token Admin để gọi các API quản trị của Botpress (ví dụ: tạo bot)
# Quan trọng: Nên sử dụng biến môi trường hoặc Vault để lưu trữ token này trong môi trường production.
botpress.api.admin-token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJlbWFpbCI6InBob25ndmFuaGllcEBnbWFpbC5jb20iLCJzdHJhdGVneSI6ImRlZmF1bHQiLCJ0b2tlblZlcnNpb24iOjMsImlzU3VwZXJBZG1pbiI6dHJ1ZSwiaWF0IjoxNzU4OTc0NTgyLCJleHAiOjE3NTg5NzgxODIsImF1ZCI6ImNvbGxhYm9yYXRvcnMifQ.cdCI6QDU7XrQJTUMG30DXV2kLoEthRSjAyZ6ky_-LkY
botpress.api.username=username
botpress.api.password=password                      
# ID bot mặc định cho các yêu cầu thử nghiệm
# Sau này, botId sẽ được lấy động từ database
botpress.botId=traloitudong

# default infos for facebook auto connect
facebook.autoConnect.verifyToken=botpress_verify_token_new
facebook.autoConnect.appSecret=51c0c2a53c21e6c09662ace9fa79a5ff
facebook.autoConnect.appId=1512336249760267
facebook.autoConnect.urlCallback=https://chat.truyenthongviet.vn/webhooks/facebook/botpress

#Cấu hình minio để lưu trữ file
minio.url=http://localhost:9000
minio.accessKey=minioadmin
minio.secretKey=minioadmin
minio.bucketName=botpress

#cấu hình odoo
odoo.url=http://localhost:3005/
odoo.db=odoo_db
odoo.username=admin
odoo.password=admin

# ========================
# Cấu hình Jackson (định dạng ngày giờ)
# ========================
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss.SSS
spring.jackson.time-zone=Asia/Ho_Chi_Minh


#=============================
#Ghi log ra file 
#=============================
# 1. Bật tính năng ghi ra file
logging.file.path=./logs 

# 2. Định nghĩa tên file log chính
logging.file.name=${logging.file.path}/app.log 

# 3. Giới hạn kích thước file (Tùy chọn)
logging.file.max-size=10MB

# 4. Giữ lại số lượng file nén tối đa (Tùy chọn)
logging.file.max-history=7

# 5. Cấu hình format log
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# 6. Đặt mức log tối thiểu (ví dụ: chỉ ghi từ INFO trở lên)
logging.level.root=INFO


#cấu hình redis
spring.redis.host=localhost
spring.redis.port=6379


#=========================
# Bật log DEBUG cho các gói WebSocket chính
# logging.level.org.springframework.web.socket=DEBUG
# logging.level.org.springframework.web.socket.server=DEBUG
# logging.level.org.springframework.web.socket.handler=DEBUG

# # Bật log DEBUG cho Spring Security để kiểm tra Filter Chain (Rất quan trọng)
# # Điều này giúp bạn xác nhận rằng /ws/takeover đã thực sự bị bỏ qua (ignored)
# logging.level.org.springframework.security=DEBUG
# logging.level.org.springframework.security.web.FilterChainProxy=DEBUG

# # Bật log DEBUG cho Tomcat để xem các hoạt động ở tầng HTTP (Handshake)
# logging.level.org.apache.tomcat=DEBUG